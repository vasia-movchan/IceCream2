{"mappings":"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","sources":["src/js/shop.js"],"sourcesContent":["var food_lines_number = 1;\nvar food_lines_vis_number = 1;\n var all_food_prices = [1.45, 6.50, 12.30, 2.45, 6.65, 7.15, 2.35, 3.80, 4.67];\n var all_food_type = [];\n var all_food_quantity = [];\n\n\n var pokupki_block = document.getElementById('pokupki1');\n \n var food_selectors = pokupki_block.getElementsByClassName('food-selector');\n var food_quantities = pokupki_block.getElementsByClassName('food-quantity');\n var food_closes = pokupki_block.getElementsByClassName('food-close');\n\n var food_amounts = pokupki_block.getElementsByClassName('food-amount');\nvar add_button1 = document.getElementById('add-button');\n \nvar price_str = new Intl.NumberFormat(\"us-US\",\n                        { style: \"currency\", currency: \"USD\",\n                          minimumFractionDigits: 2 });\n\n\n\n function fill_food_line(food_line_num) {\n    var price1, sum1;\n\n\n\n    var food_type_cur = pokupki_block.querySelector('.food-selector[food-line=\"' + food_line_num + '\"]');\n    all_food_type[food_line_num-1] = food_type_cur.selectedIndex;\n         \n    var food_price_cur = pokupki_block.querySelector('.food-price[food-line=\"' + food_line_num + '\"]');\n    food_price_cur.textContent = price_str.format(all_food_prices[food_type_cur.selectedIndex]);\n     \n    var food_quantity_cur = pokupki_block.querySelector('.food-quantity[food-line=\"' + food_line_num + '\"]');\n    all_food_quantity[food_line_num-1] = food_quantity_cur.value;\n     \n    var food_amount_cur = pokupki_block.querySelector('.food-amount[food-line=\"' + food_line_num + '\"]');\n     \n    food_amount_cur.textContent = price_str.format(all_food_prices[food_type_cur.selectedIndex] * all_food_quantity[food_line_num-1]);\n\n    var total_food_amount = 0.0;\n\n    for(i=0; i<food_lines_number; i++) {\n        total_food_amount += all_food_prices[all_food_type[i]] * all_food_quantity[i];\n    }\n   \n    var total_food_amount_div = document.querySelector('.food-total-amount');\n    total_food_amount_div.textContent = price_str.format(total_food_amount);\n }\n\n\nfunction changeOption(event) {\n     fill_food_line(this.getAttribute('food-line'));\n }\n\nfunction delOption(event) {\n\n    \n    event.preventDefault();\n    if (food_lines_vis_number > 1) {\n        food_lines_vis_number--;\n        var del_item = pokupki_block.querySelector('.products-to-choose-in[food-line=\"' + this.getAttribute('food-line') + '\"]');\n        all_food_quantity[this.getAttribute('food-line') - 1] = 0;\n        del_item.remove();\n\n        var total_food_amount = 0.0;\n\n        for (i = 0; i < food_lines_number; i++) {\n            total_food_amount += all_food_prices[all_food_type[i]] * all_food_quantity[i];\n        }\n   \n        var total_food_amount_div = document.querySelector('.food-total-amount');\n        total_food_amount_div.textContent = price_str.format(total_food_amount);\n    } \n }\n\n\n function addOption(event){\n    var pokupki_list = document.getElementById('add-button-div');\n    var elem1 = document.getElementById('food_line_template');\n\n        \n    event.preventDefault();\n    \n     food_lines_number++;\n     food_lines_vis_number++; \n  \n    let divLast1 = elem1.cloneNode(true);\n    pokupki_list.before(divLast1); \n    \n    divLast1.setAttribute(\"food-line\", food_lines_number);\n     \n    var elem2 = divLast1.querySelector('.food-selector');\n     elem2.setAttribute(\"food-line\", food_lines_number);\n          \n    var elem3 = divLast1.querySelector('.food-price');\n    elem3.setAttribute(\"food-line\", food_lines_number);\n\n    var elem4 = divLast1.querySelector('.food-quantity');\n    elem4.setAttribute(\"food-line\", food_lines_number);\n\n    var elem5 = divLast1.querySelector('.food-amount');\n    elem5.setAttribute(\"food-line\", food_lines_number);\n\n    var elem6 = divLast1.querySelector('.food-close');\n    elem6.setAttribute(\"food-line\", food_lines_number);\n\n\n    elem2.selectedIndex = 0;\n    elem4.value = 0;\n    \n    all_food_type.push(0);\n    all_food_quantity.push(0);\n     \n    fill_food_line(food_lines_number);\n\n    elem2.addEventListener(\"change\", changeOption);\n    elem4.addEventListener(\"change\", changeOption);\n    elem6.addEventListener(\"click\", delOption);\n }\n \n all_food_type.push(0);\n all_food_quantity.push(0);\n \n food_selectors[0].selectedIndex = 0;\n food_quantities[0].value = 0;\n\n fill_food_line(1);\n\n for(i=0; i<food_selectors.length; i++) {\n    food_selectors[i].addEventListener(\"change\", changeOption);\n }\n\n for(i=0; i<food_quantities.length; i++) {\n    food_quantities[i].addEventListener(\"change\", changeOption);\n }\n\n  for(i=0; i<food_closes.length; i++) {\n    food_closes[i].addEventListener(\"click\", delOption);\n }\n\n add_button1.addEventListener(\"click\", addOption);"],"names":["food_lines_number","food_lines_vis_number","all_food_prices","all_food_type","all_food_quantity","pokupki_block","document","getElementById","food_selectors","getElementsByClassName","food_quantities","food_closes","food_amounts","add_button1","price_str","Intl","NumberFormat","style","currency","minimumFractionDigits","fill_food_line","food_line_num","food_type_cur","querySelector","selectedIndex","textContent","format","food_quantity_cur","value","total_food_amount","i","changeOption","event","this","getAttribute","delOption","preventDefault","del_item","remove","addOption","pokupki_list","elem1","divLast1","cloneNode","before","setAttribute","elem2","elem4","elem6","push","addEventListener","length"],"version":3,"file":"index.bf747a91.js.map"}