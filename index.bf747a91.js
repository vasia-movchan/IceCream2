var food_lines_number=1,food_lines_vis_number=1,all_food_prices=[1.45,6.5,12.3,2.45,6.65,7.15,2.35,3.8,4.67],all_food_type=[],all_food_quantity=[],pokupki_block=document.getElementById("pokupki1"),food_selectors=pokupki_block.getElementsByClassName("food-selector"),food_quantities=pokupki_block.getElementsByClassName("food-quantity"),food_closes=pokupki_block.getElementsByClassName("food-close"),food_amounts=pokupki_block.getElementsByClassName("food-amount"),add_button1=document.getElementById("add-button"),price_str=new Intl.NumberFormat("us-US",{style:"currency",currency:"USD",minimumFractionDigits:2});function fill_food_line(e){var o=pokupki_block.querySelector('.food-selector[food-line="'+e+'"]');all_food_type[e-1]=o.selectedIndex,pokupki_block.querySelector('.food-price[food-line="'+e+'"]').textContent=price_str.format(all_food_prices[o.selectedIndex]);var t=pokupki_block.querySelector('.food-quantity[food-line="'+e+'"]');all_food_quantity[e-1]=t.value,pokupki_block.querySelector('.food-amount[food-line="'+e+'"]').textContent=price_str.format(all_food_prices[o.selectedIndex]*all_food_quantity[e-1]);var n=0;for(i=0;i<food_lines_number;i++)n+=all_food_prices[all_food_type[i]]*all_food_quantity[i];document.querySelector(".food-total-amount").textContent=price_str.format(n)}function changeOption(e){fill_food_line(this.getAttribute("food-line"))}function delOption(e){if(e.preventDefault(),food_lines_vis_number>1){food_lines_vis_number--;var o=pokupki_block.querySelector('.products-to-choose-in[food-line="'+this.getAttribute("food-line")+'"]');all_food_quantity[this.getAttribute("food-line")-1]=0,o.remove();var t=0;for(i=0;i<food_lines_number;i++)t+=all_food_prices[all_food_type[i]]*all_food_quantity[i];document.querySelector(".food-total-amount").textContent=price_str.format(t)}}function addOption(e){var o=document.getElementById("add-button-div"),t=document.getElementById("food_line_template");e.preventDefault(),food_lines_number++,food_lines_vis_number++;var n=t.cloneNode(!0);o.before(n),n.setAttribute("food-line",food_lines_number);var l=n.querySelector(".food-selector");l.setAttribute("food-line",food_lines_number),n.querySelector(".food-price").setAttribute("food-line",food_lines_number);var i=n.querySelector(".food-quantity");i.setAttribute("food-line",food_lines_number),n.querySelector(".food-amount").setAttribute("food-line",food_lines_number);var d=n.querySelector(".food-close");d.setAttribute("food-line",food_lines_number),l.selectedIndex=0,i.value=0,all_food_type.push(0),all_food_quantity.push(0),fill_food_line(food_lines_number),l.addEventListener("change",changeOption),i.addEventListener("change",changeOption),d.addEventListener("click",delOption)}for(all_food_type.push(0),all_food_quantity.push(0),food_selectors[0].selectedIndex=0,food_quantities[0].value=0,fill_food_line(1),i=0;i<food_selectors.length;i++)food_selectors[i].addEventListener("change",changeOption);for(i=0;i<food_quantities.length;i++)food_quantities[i].addEventListener("change",changeOption);for(i=0;i<food_closes.length;i++)food_closes[i].addEventListener("click",delOption);add_button1.addEventListener("click",addOption);
//# sourceMappingURL=index.bf747a91.js.map
